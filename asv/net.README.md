# net library
Документация в данный момент только на русском, так как библиотека находится в альфа разработке.
Примечание: Это не полная копия реального стека, здесь нет например CRC для проверки целосности пакетов, т.к. мод не нарушает содержимое пакетов(в данный момент), тоже самое и с флагами начала и конца слоя, здесь будет использоватся сериализация т.к. десеарилизация нативная и, следовательно, быстрая.

Всё взаимодействие происходит на порте `1`.

Термины:
- layer - слой [OSI](https://ru.wikipedia.org/wiki/%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_OSI) стека, в проэкте обозначается lx где x - конкретный слой.
- l1 - физический уровень, предоставлен в моде "из коробки" и в воссоздании не нуждается. устройства - связанная карта, сетевая карта, беспроводная карта...
- l2 - на половину присутствует в моде. Делится на подуровни.
    1. [MAC](https://ru.wikipedia.org/wiki/Media_Access_Control) - В библиотеке просто обертка над компонентами(net.l2.phys) для удобства.
    2. [LLC](https://ru.wikipedia.org/wiki/Logical_link_control) - Простая упаковка данных. +пометка протокола.

## подключение в коде:
`local net = require("asv").net`

## l2
Уровень отвечающий за передачу данных. Используется для прямой связи между устройствами. В данный момент - дублирует оригинальные функции.

Префикс модуля: `net.l2.phys`
### `broadcastViaAll(...)`
Отправка сообщения через все сетевые адаптеры доступные адаптеры. (порт - по умолчанию)\
`...` - данные для отправки.

### `broadcast(srcAddr, ...)`
Отправка сообщения через указанный сетевой адаптер. (порт - по умолчанию)\
`srcAddr` - Полный или частичный адрес адаптера. Если передан `nil` будет взят primary устройство.\
`...` - данные для отправки.

### `send(srcAddr, dstAddr, ...)`
Отправка сообщения через указанный сетевой адаптер на указанный узел. (порт - по умолчанию)\
`srcAddr` - Полный или частичный адрес адаптера. Если передан `nil` будет взят primary устройство.\
`dstAddr` - Полный адрес принимающей стороны.\
`...` - данные для отправки.